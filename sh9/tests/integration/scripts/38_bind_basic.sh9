# Test 38: Basic bind/unmount/ns operations
echo "=== bind basic ==="

# Test ns with no mounts
ns

# Bootstrap host test directory via /tmp bind
bind /tmp /host_tmp
mkdir /host_tmp/sh9_test_38
echo "hello" > /host_tmp/sh9_test_38/test.txt
unmount /host_tmp

# Bind local directory
bind /tmp/sh9_test_38 /mnt

# Verify ns shows the binding
echo "=== ns after bind ==="
ns

# Verify ls works on mount
echo "=== ls mount ==="
ls /mnt

# Unmount
unmount /mnt

# Verify ns is empty again
echo "=== ns after unmount ==="
ns

# Cleanup
bind /tmp /host_tmp
rm /host_tmp/sh9_test_38/test.txt
rm /host_tmp/sh9_test_38
unmount /host_tmp
echo "=== bind basic done ==="
